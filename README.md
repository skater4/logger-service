# Тестовое задание Logger API for Laravel

Сделать базовый сервис логирования, работающий по HTTP.

Сервис должен уметь:
    • Принимать запрос от других сервисов на добавление записи в Лог (формат JSON)
    
    • Отдавать по запросу список всех записей лога в формате JSON
    
    • На первом этапе записывать данные в csv-файл на диск (в дальнейшем возможно и
    спользование другого хранилища)

Функциональные требования:
    • Список полей, которые содержит каждая запись лога: id (уникальный, генерируется сервисом), created_at (datetime, дата записи), client (string, название сервиса, который прислал лог), message (text, текст сообщения), level (string, уровень лога, один из вариантов warning, info, error), user_id (int, инициатор события, если был авторизован). Все поля, кроме user_id, обязательны для заполнения.
    
    • Использовать сервис могут различные клиенты (наши сервисы), api открыт во внутренней сети, все они работают независимо друг от друга, количество запросов в пике возможно до 200 в минуту. 
    
    • Доступ к сервису возможен только в том случае, если в запросе передан заголовок “X-Access-Token” с правильным токеном, все клиенты должны передавать токен, токен одинаков для всех клиентов и зафиксирован в сервисе логирования.
    • Ротация лога не требуется
    
    • Ограничений на размер лога нет
    
    • Лог может быть удален/очищен в любой момент без появления ошибок

Технические требования:
    • Сервис должен быть написан на стеке: laravel 9, php 8.1
    
    • Стиль API - REST
    
    • Контейнеризация в docker не обязательна


## Installation

Clone repository

```bash
git clone git@github.com:skater4/logger-service.git
```

In repository dir run

```bash
cp src/.env.example src/.env
```
```bash
make build
```
```bash
make up
```
```bash
make composer-install
```
```bash
make npm-install
```
В env в проекте прописываем токен
```bash
ACCESS_TOKEN=access_token
```
